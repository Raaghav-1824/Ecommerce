{"version":3,"file":"static/js/14.822efd44.chunk.js","mappings":"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","sources":["redux/apiCalls.js","pages/Login.jsx","reponsive.js","requestMethods.js"],"sourcesContent":["import { publicRequest } from \"../requestMethods\";\r\nimport { loginFailure, loginStart, loginSuccess, register, registerSuccess, registerFailure , isAuthenticated} from \"./userRedux\";\r\nimport axios from \"axios\";\r\n\r\nexport const login = async (dispatch, user) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await publicRequest.post(\"/auth/login\", user);\r\n    dispatch(loginSuccess(res.data));\r\n    return res.data; // Return the user data\r\n  } catch (err) {\r\n    dispatch(loginFailure());\r\n    throw err; // Throw error so you can catch it\r\n  }\r\n};\r\n\r\n\r\nexport const registerStart = async (dispatch, newUser) => {\r\n  dispatch(register());\r\n  try {\r\n    const res = await publicRequest.post(\"/auth/register\", newUser);\r\n    dispatch(registerSuccess(res.data));\r\n  } catch (err) {\r\n    dispatch(registerFailure());\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { login, registerStart } from \"../redux/apiCalls\";\r\nimport { mobile } from \"../reponsive\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { register } from \"../redux/userRedux\";\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: linear-gradient(\r\n      rgba(255, 255, 255, 0.5),\r\n      rgba(255, 255, 255, 0.5)\r\n    ),\r\n    url(\"https://images.pexels.com/photos/6984650/pexels-photo-6984650.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\")\r\n      center;\r\n  background-size: cover;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n \r\n\r\n`;\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  width: 25%;\r\n  padding: 20px;\r\n  background-color: white;\r\n  box-shadow: 0px 5px 10px grey;\r\n  border-radius: 10px;\r\n  ${mobile({ width: \"75%\" })}\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 24px;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  gap:5px;\r\n  flex-wrap: wrap; \r\n  \r\n`;\r\n\r\nconst Input = styled.input`\r\n  flex: 1;\r\n  min-width: 40%;\r\n  margin: 10px 0;\r\n  padding: 10px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 40%;\r\n  border: none;\r\n  padding: 15px 20px;\r\n  background-color: teal;\r\n  color: white;\r\n  cursor: pointer;\r\n  margin-bottom: 10px;\r\n  &:disabled {\r\n    color: green;\r\n    cursor: not-allowed;\r\n\r\n  }\r\n`;\r\n\r\nconst Link = styled.a`\r\n  margin: 5px 0px;\r\n  font-size: 12px;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Error = styled.span`\r\n  color: red;\r\n`;\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { isFetching, error, currentUser , isAuthenticated} = useSelector((state) => state.user);\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const userData = await login(dispatch, { username, password });\r\n      console.log(\"Authentication cehck\",isAuthenticated);\r\n      if(userData) {\r\n        navigate(\"/\"); \r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login failed:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCreateUser = (e) => {\r\n     navigate(\"/register\")\r\n  }\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <Wrapper>\r\n        <Title>SIGN IN</Title>\r\n        <Form>\r\n          <Input\r\n            placeholder=\"username\"\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <Input\r\n            placeholder=\"password\"\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <Button onClick={handleClick} disabled={isFetching}>\r\n            LOGIN\r\n          </Button>\r\n          {error && <Error>Something went wrong...</Error>}\r\n          <Link>DO NOT YOU REMEMBER THE PASSWORD?</Link>\r\n          <Link onClick={handleCreateUser}>CREATE A NEW ACCOUNT</Link>\r\n        </Form>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { css } from \"styled-components\";\n\nexport const mobile = (props) => {\n  return css`\n    @media only screen and (max-width: 480px) {\n      ${props}\n    }\n  `;\n};\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:3000/api\";\r\n\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"persist:root\"))?.user;\r\nconst currentUser = user && JSON.parse(user).currentUser;\r\nconst TOKEN = currentUser?.accessToken;\r\n\r\nexport const publicRequest = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport const userRequest = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: { token: `Bearer ${TOKEN}` },\r\n});"],"names":["login","async","dispatch","user","loginStart","res","publicRequest","post","loginSuccess","data","err","loginFailure","registerStart","newUser","register","registerSuccess","registerFailure","Container","styled","div","_templateObject","_taggedTemplateLiteral","Wrapper","_templateObject2","mobile","width","Title","h1","_templateObject3","Form","form","_templateObject4","Input","input","_templateObject5","Button","button","_templateObject6","Link","a","_templateObject7","Error","span","_templateObject8","Login","username","setUsername","useState","password","setPassword","useDispatch","navigate","useNavigate","isFetching","error","currentUser","isAuthenticated","useSelector","state","_jsx","children","_jsxs","placeholder","onChange","e","target","value","type","onClick","preventDefault","userData","console","log","disabled","props","css","BASE_URL","process","_JSON$parse","JSON","parse","localStorage","getItem","TOKEN","accessToken","axios","create","baseURL","userRequest","headers","token","concat"],"sourceRoot":""}