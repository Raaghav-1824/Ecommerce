"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[14],{3852:(n,e,r)=>{r.d(e,{M:()=>s,i:()=>o});var t=r(7447),a=r(1966);const o=async(n,e)=>{n((0,a.AU)());try{const r=await t.x.post("/auth/login",e);return n((0,a.Ne)(r.data)),r.data}catch(r){throw n((0,a.ie)()),r}},s=async(n,e)=>{n((0,a.kz)());try{const r=await t.x.post("/auth/register",e);n((0,a.Jj)(r.data))}catch(r){n((0,a.Wr)())}}},7014:(n,e,r)=>{r.r(e),r.d(e,{default:()=>S});var t,a,o,s,i,c,d,p,l=r(7528),h=r(5043),u=r(8110),x=r(3852),g=r(7431),A=r(3003),w=r(3216),y=(r(1966),r(579));const m=u.Ay.div(t||(t=(0,l.A)(['\n  width: 100%;\n  height: 100vh;\n  background: linear-gradient(\n      rgba(255, 255, 255, 0.5),\n      rgba(255, 255, 255, 0.5)\n    ),\n    url("https://images.pexels.com/photos/6984650/pexels-photo-6984650.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940")\n      center;\n  background-size: cover;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n \n\n']))),b=u.Ay.div(a||(a=(0,l.A)(["\n  width: 25%;\n  padding: 20px;\n  background-color: white;\n  box-shadow: 0px 5px 10px grey;\n  border-radius: 10px;\n  ","\n"])),(0,g.H)({width:"75%"})),f=u.Ay.h1(o||(o=(0,l.A)(["\n  font-size: 24px;\n  font-weight: 300;\n"]))),j=u.Ay.form(s||(s=(0,l.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap:5px;\n  flex-wrap: wrap; \n  \n"]))),v=u.Ay.input(i||(i=(0,l.A)(["\n  flex: 1;\n  min-width: 40%;\n  margin: 10px 0;\n  padding: 10px;\n"]))),k=u.Ay.button(c||(c=(0,l.A)(["\n  width: 40%;\n  border: none;\n  padding: 15px 20px;\n  background-color: teal;\n  color: white;\n  cursor: pointer;\n  margin-bottom: 10px;\n  &:disabled {\n    color: green;\n    cursor: not-allowed;\n\n  }\n"]))),C=u.Ay.a(d||(d=(0,l.A)(["\n  margin: 5px 0px;\n  font-size: 12px;\n  text-decoration: underline;\n  cursor: pointer;\n"]))),N=u.Ay.span(p||(p=(0,l.A)(["\n  color: red;\n"]))),S=()=>{const[n,e]=(0,h.useState)(""),[r,t]=(0,h.useState)(""),a=(0,A.wA)(),o=(0,w.Zp)(),{isFetching:s,error:i,currentUser:c,isAuthenticated:d}=(0,A.d4)(n=>n.user);return(0,y.jsx)(m,{children:(0,y.jsxs)(b,{children:[(0,y.jsx)(f,{children:"SIGN IN"}),(0,y.jsxs)(j,{children:[(0,y.jsx)(v,{placeholder:"username",onChange:n=>e(n.target.value)}),(0,y.jsx)(v,{placeholder:"password",type:"password",onChange:n=>t(n.target.value)}),(0,y.jsx)(k,{onClick:async e=>{e.preventDefault();try{const e=await(0,x.i)(a,{username:n,password:r});console.log("Authentication cehck",d),e&&o("/")}catch(i){console.error("Login failed:",i)}},disabled:s,children:"LOGIN"}),i&&(0,y.jsx)(N,{children:"Something went wrong..."}),(0,y.jsx)(C,{children:"DO NOT YOU REMEMBER THE PASSWORD?"}),(0,y.jsx)(C,{onClick:n=>{o("/register")},children:"CREATE A NEW ACCOUNT"})]})]})})}},7431:(n,e,r)=>{r.d(e,{H:()=>s});var t,a=r(7528),o=r(8110);const s=n=>(0,o.AH)(t||(t=(0,a.A)(["\n    @media only screen and (max-width: 480px) {\n      ","\n    }\n  "])),n)},7447:(n,e,r)=>{r.d(e,{F:()=>p,x:()=>d});var t,a=r(9722);const o="https://e-commerce-yz5j.onrender.com/api",s=null===(t=JSON.parse(localStorage.getItem("persist:root")))||void 0===t?void 0:t.user,i=s&&JSON.parse(s).currentUser,c=null===i||void 0===i?void 0:i.accessToken,d=a.A.create({baseURL:o}),p=a.A.create({baseURL:o,headers:{token:"Bearer ".concat(c)}})}}]);
//# sourceMappingURL=14.822efd44.chunk.js.map